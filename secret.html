<script type="text/javascript" src="js/jquery-1.7.2.min.js"></script>


<div id="textSource" style="display: none;">
Visiting is pretty, visiting is good.~
This world will end, this life will begin~
Wake up Mr, Freeman~
And the world will rejoice~
So wake, up Dr. Freeman.~
Wake up and, smell the ashes...
</div>

<script type="text/javascript">
var char = 0;
var caption = "";
var standby;
 
function showCaption(obj) {
	/*caption = obj.attr('title');*/
    caption = obj;
	if(caption)
		type();
}

function type() {
    curChar = caption.substr(0, char++);
    curChar = curChar.replace(RegExp('~','g'),'<br \/>');
	$('#caption').html(curChar);
	if(char < caption.length+1)
		setTimeout("type()", 50);
	else {
		char = 0;
		caption = "";
	}	
}

$.ready(showCaption(document.getElementById('textSource').innerHTML));
</script>

<div id="caption"></div>

